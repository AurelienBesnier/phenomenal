# -*- python -*-
#
#       Copyright 2015 INRIA - CIRAD - INRA
#
#       File author(s): Simon Artzet <simon.artzet@gmail.com>
#
#       File contributor(s):
#
#       Distributed under the Cecill-C License.
#       See accompanying file LICENSE.txt or copy at
#           http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
#
#       OpenAlea WebSite : http://openalea.gforge.inria.fr
#
# ==============================================================================
import cv2

from alinea.phenomenal.chessboard import (
    Chessboard)

# ==============================================================================

# Read image in BGR
im_top = cv2.imread('chess_top.png', cv2.IMREAD_COLOR)

chess = Chessboard(47, (8, 6))
chess.corners_points['top'] = chess.find_corners_with_bgr(im_top,
                                                          [0, 0, 255])

print chess.corners_points['top']

corner_top = [[[1270.0, 1432.0]],
              [[1320.0, 1372.0]],
              [[1371.0, 1314.0]],
              [[1421.0, 1254.0]],
              [[1472.0, 1194.0]],
              [[1522.0, 1135.0]],
              [[1573.0, 1075.0]],
              [[1623.0, 1016.0]],

              [[1282.0, 1438.0]],
              [[1332.0, 1380.0]],
              [[1381.0, 1322.0]],
              [[1431.0, 1263.0]],
              [[1480.0, 1205.0]],
              [[1530.0, 1147.0]],
              [[1579.0, 1089.0]],
              [[1628.0, 1030.0]],

              [[1294.0, 1445.0]],
              [[1342.0, 1387.0]],
              [[1391.0, 1330.0]],
              [[1439.0, 1272.0]],
              [[1487.0, 1216.0]],
              [[1536.0, 1158.0]],
              [[1584.0, 1101.0]],
              [[1633.0, 1045.0]],

              [[1305.0, 1450.0]],
              [[1352.0, 1393.0]],
              [[1400.0, 1337.0]],
              [[1447.0, 1281.0]],
              [[1495.0, 1225.0]],
              [[1543.0, 1169.0]],
              [[1590.0, 1113.0]],
              [[1637.0, 1056.0]],

              [[1315.0, 1455.0]],
              [[1362.0, 1400.0]],
              [[1409.0, 1345.0]],
              [[1455.0, 1290.0]],
              [[1502.0, 1235.0]],
              [[1549.0, 1179.0]],
              [[1595.0, 1124.0]],
              [[1641.0, 1070.0]],

              [[1326.0, 1461.0]],
              [[1372.0, 1407.0]],
              [[1417.0, 1352.0]],
              [[1463.0, 1298.0]],
              [[1509.0, 1244.0]],
              [[1554.0, 1189.0]],
              [[1600.0, 1135.0]],
              [[1646.0, 1082.0]]]
